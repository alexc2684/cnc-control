# Progress Log - 2026-01-23

## Optimizing CNC Connection Speed
- Analyzed `src/cnc_control/driver.py` and identified bottlenecks in the connection process (double serial open, excessive sleeps).
- Created a TDD test plan using `tests/test_connection_optimization.py` to verify improvements without needing physical hardware.
- Refactored `locate_mill_over_serial` to return the open `serial.Serial` object instead of closing it.
- Refactored `connect_to_mill` to reuse the existing connection.
- Reduced hardcoded `time.sleep` calls significantly (total reduced from >7s to ~1.1s).
- Verified changes with the test script (mocking `serial.Serial` and `grbl` responses).

### Round 2 Optimizations
- Analyzed `driver.py` for per-command latency.
- Removed the unconditional `time.sleep(0.5)` in `execute_command`, allowing commands to proceed as soon as `ok` is received.
- Replaced the fixed `time.sleep(15)` in the homing sequence with a polling loop that checks for 'Idle' status every 0.5s.
- This theoretically removes up to 15s of unnecessary waiting if the machine homes quickly.
